目錄
ChatGPT3.5 推薦序	12
前言	13
入門篇	15
MetaTrader 4 使用說明	16
1-1. MetaTrader簡介	17
1-1-1. MetaTrader下載安裝	17
1-1-2. 系統設定及更改密碼	18
1-1-3. 使用者介面	19
1-1-4. 使用者介面子選單	30
1-1-5. MT4 的檔案系統	37
1-2. 交易須知及委託、刪/改單、平倉	43
1-2-1. 影響匯率的主要因素	43
1-2-2. 交易須知	45
1-2-3. 價格度量的單位	54
1-2-4. 委託	56
1-2-5. 改單或刪單	59
1-2-6. 平倉	60
1-2-7. 按一下交易	61
1-2-8. 追蹤止損	62
1-2-8. 詳細報告	62
1-3. 圖表操作與範本使用	65
1-3-1. 設定圖表屬性	66
1-3-2. 圖表控制	69
1-3-3. 添加技術指標	73
1-3-4. 畫線分析	74
1-3-5. 畫線工具圖示	76
1-3-6. 範本	77
1-3-7. 圖表夾(Profiles)	78
1-4. EA的安裝與執行	78
1-4-1. 安裝EA	78
1-4-2. 執行EA	79
1-5.策略測試	79
1-5-1. 下載歷史數據	80
1-5-2. 投資策略測試	81
1-6.回測結果	82
1-6-1. 報告	82
1-6-2. 淨值圖	83
1-6-3. 回測報表	83
1-6-4. 回測日誌	85
1-6-6. 優化	86
1-7. MT4的快速鍵	86
【問題與習作】	88
MQL4 入門	0
2-1. MQL 語言基礎	1
2-1-1. 語法	2
2-1-2. 資料型別	3
2-1-3. 字串函數	4
2-1-4. 日期時間函數	5
2-1-5. 運算元和運算式	6
2-1-6. 變數	11
2-1-7. 預定義變數	12
2-1-8. 陣列	14
2-1-9. 記憶體	14
2-1-10. 範圍解析(Scope resolution)	16
2-1-11. 流程控制	17
2-1-12. 參數傳遞	29
2-2. 程式運行	34
2-2-1. MT4平台啟動時的順序	34
2-2-2. 事件處理函數	36
2-2-3. 程式載入/卸載時機	41
2-2-4. 輸入參數和程式碼編譯	41
2-3. 25個MT4訂單函數	42
2-3-1. OrderSend()函數	42
2-3-2. OrderModify()函數	45
2-3-3. OrderClose()函數	46
2-3-4. OrderSelect()函數	46
2-3-5. OrderDelete()函數	47
2-3-6. OrderCloseBy()函數	47
2-3-7. 其他無參數的訂單函數	47
2-4. 新增EA	48
2-4-1.預處理器指示	51
2-4-2. 特殊函數	53
2-4-3. EA參數和外部變數	53
2-4-4. 程式編譯	54
2-4-5. EA的啟動結構	55
2-4-6. EA的進出場邏輯	56
2-4-7. 一個簡單的EA	57
2-5. 新增腳本	63
【問題與習作】	69
MT4內建指標	71
3-1. 技術指標	72
3-2. 30個內建指標	73
3-2-1.趨勢指標類	75
3-2-2.震盪指標類	79
3-2-3.成交量指標類	83
3-2-4. Bill William指標類	84
3-3. 趨勢指標與應用	86
3-3-1. 移動平均線	86
3-3-2. 布林帶	88
3-4. 震盪指標與應用	89
3-4-1. RSI	89
3-4-2. KD	90
3-4-3. MACD	90
3-4-4. ATR	92
3-5. 自訂指標	93
3-5-1. 新增自訂指標	93
3-5-2. 修改及刪除指標	94
3-5-3. 自訂指標	94
3-6. 陣列與應用操作	99
3-6-1. 索引	99
3-6-2. 陣列宣告和存取陣列元素	99
3-6-3. 陣列初始化	100
【問題與習作】	106
進階編程	107
4-1. 包含檔案(#include)	108
4-2. 導入程式庫 (#import)	108
4-3. 建立自己的函數	110
4-3-1. 買單委託函數	112
4-3-2. 預掛買單委託函數	113
4-3-3.下單手數驗證函數	115
4-3-4.止損和預掛單價格驗證函數	116
4-4. 時間和日期	119
4-4-1. 日期時間變數	119
4-4-2. 日期時間常數	120
4-4-3. 控制交易時間的定時器	123
4-4-4. 每根k棒交易一次	126
4-5. EA除錯	128
4-5-1.編譯錯誤除錯	128
4-5-2. 障礙排除與錯誤處理	130
4-5-3. EA除錯	132
4-5-4. 排除錯誤交易	134
4-5-5. 錯誤代碼	136
【問題與習作】	140
實戰篇	141
風險管理	142
5-1. 外匯交易的風險和波動率指標	144
5-2. 訂單管理	146
5-1-1.交易單計數函數	147
5-1-2.添加止損和止盈	150
5-1-3.修改預掛單價格	152
5-3. 資金管理	153
5-4. 風險報酬管理	158
5-4-1. 風險報酬率的指標	160
5-4-2. 手數計算器	161
5-5. 追蹤止損	164
5-5-1. 追蹤止損的設定	165
5-5-2. 追蹤止損程式範例	165
5-6. 相關性與資產配置	170
【問題與習作】	171
市場特性與交易策略	173
6-1. 市場特性	174
6-1-1. 隨機漫步與效率市場假說	174
6-1-2.混沌與碎形	175
6-1-3. 市場的長短期記憶	178
6-2. 交易策略和分類	179
6-2-1 .基本策略	180
6-2-2. 指標策略	180
6-2-3. 價格行為策略	180
6-3. 行情預期的交易策略	182
6-3-1. 順勢策略	182
6-3-2. 逆勢策略	183
6-3-3. 順勢交易與逆勢交易的比較	184
6-5. 無損式系統的策略	187
6-6. 策略參數與邏輯的優化	188
6-7. 酌情策略與風險屬性	190
【問題與習作】	191
機械式交易	193
7-1. 網格策略	195
7-1-1. IsLongAround()函數	198
7-1-2. 「分框」設定獲利以提高盈利	200
7-1-3. 計算持倉均價與損益平衡價	202
7-2. 馬丁策略	205
7-2-1. 馬丁系統主要風險因子	205
7-2-2. 馬丁實用函數、程式碼區塊	206
7-2-3. 馬丁策略系統的範例	207
7-3. 波段交易策略	215
7-3-1. 布林帶上的擺動策略	217
7-4. 型態辨識	222
7-4-1. 多頭型態辨識	228
7-4-2. 空頭型態辨識	231
7-.5.模糊邏輯的應用	234
7-5-1. 模糊邏輯和歸屬函數	234
7-5-2. 判斷價格反轉的模糊指標	236
【問題與習作】	239
物件導向式程式設計	241
8-1. 物件導向式程式設計	242
8-1-1. 物件(Object)	242
8-1-2. 類別 (Class)	242
8-1-3. 欄位（Field）	243
8-1-4. 屬性（Property）	244
8-1-5. 修飾詞（Modifiers）	244
8-1-6. 「基類」與「衍生類」成員的存取範圍	244
8-1-7. 虛擬函數	246
8-2. 物件導向的組成	248
8-2-1. 抽象化（Abstraction）	248
8-2-2. 封裝 (Encapsulation)	248
8-2-3. 繼承 (Inheritance)	252
8-4-4. 多型 (Polymorphism)	255
8-3. 呼叫物件方的操作	255
8-4. OOP實做EA：下單助理	256
8-5. OOP實做EA：多幣對多策略平行交易系統	262
【問題與習作】	278
Telegram與EA整合應用	279
9-1. 建立你的機器人	282
9-2. MT4 發訊息到Channel	285
9-3. EA透過TG bot 發訊息	286
【問題與習作】	289
附錄	290
範例程式碼	291

